# ููุฎุต ุงูุชุญุฏูุซุงุช ุงููููุฐุฉ ุนูู AWS

## โ ุงูุชุญุฏูุซุงุช ุงูููุชููุฉ:

### 1. ุฅุตูุงุญ ุญูุธ BSSID ูู Backend
- โ ุชู ุชุนุฏูู endpoint `POST /api/branches` ูู ููู `server/index.ts`
- โ ุชู ุฑูุน ุงูููู ุงููุนุฏู ุฅูู ุงูุณูุฑูุฑ ุนูู AWS ุจุงุณุชุฎุฏุงู SCP
- โ ุชู ุฅุนุงุฏุฉ ุจูุงุก ุงููุดุฑูุน: `npm run build`
- โ ุชู ุฅุนุงุฏุฉ ุชุดุบูู ุงูุณูุฑูุฑ: `pm2 restart oldies-api`
- โ ุงูุณูุฑูุฑ ูุนูู ุจูุฌุงุญ ุนูู ุงูุจูุฑุช 5000

**ุงูููุฒุฉ ุงูุฌุฏูุฏุฉ:**
ุนูุฏ ุฅูุดุงุก ูุฑุน ุฌุฏูุฏุ ูุชู ุญูุธ ุงูู BSSID ุชููุงุฆูุงู ูู ุฌุฏูู `branchBssids` ูุน ุฑุจุทู ุจุงูู `branch.id`

### 2. ุฅุถุงูุฉ ููุฒุฉ ุฌูุจ BSSID ูู Flutter
- โ ุชู ุฅุถุงูุฉ import ูู `network_info_plus`
- โ ุชู ุฅุถุงูุฉ ุฏุงูุฉ `_getCurrentWifiBssid()` 
- โ ุชู ุฅุถุงูุฉ ุฒุฑ WiFi ุจุฌุงูุจ ุญูู BSSID
- โ ุชู ุฅุถุงูุฉ ุตูุงุญูุฉ `ACCESS_WIFI_STATE` ูู `AndroidManifest.xml`
- โ ุชู ุฑูุน ุงูุชุนุฏููุงุช ุฅูู GitHub

**ุงูููุฒุฉ:** ูููู ูููุงูู ุงูุถุบุท ุนูู ุฃููููุฉ WiFi ูุฌูุจ BSSID ุชููุงุฆูุงู

### 3. ูุธุงู ุงููุจุถุงุช (Pulses)
- โ ูุธุงู ุงููุจุถุงุช ูุนูู ุจุดูู ุนุงู
- โ๏ธ **ููุงุญุธุฉ:** ููุงู ุฎุทุฃ ูุฏูู ูู logs ุจุฎุตูุต ุนููุฏ `branch_id` ูู ุฌุฏูู `pulses` (ูุฐุง ุฎุทุฃ ุณุงุจู ูููุณ ูู ุงูุชุญุฏูุซ ุงูุญุงูู)

## ๐ ุงุฎุชุจุงุฑ ุงูููุฒุงุช ุงูุฌุฏูุฏุฉ:

### ุงุฎุชุจุงุฑ ุฅูุดุงุก ูุฑุน ูุน BSSID:

```bash
# ูู ุฌูุงุฒู ุงููุญูู:
curl -X POST http://16.171.208.249:5000/api/branches \
  -H "Content-Type: application/json" \
  -d '{
    "name": "ูุฑุน ุงูุชุฌุฑุจุฉ",
    "wifi_bssid": "AA:BB:CC:DD:EE:FF",
    "latitude": 31.2652,
    "longitude": 29.9863,
    "geofence_radius": 100
  }'
```

**ุงููุชููุน:** ุฑุณุงูุฉ ูุฌุงุญ + ุชู ุญูุธ BSSID ูู ุฌุฏูู `branchBssids`

### ุงุฎุชุจุงุฑ ุงูููุฒุฉ ูู ุงูุชุทุจูู:

1. ุงูุชุญ ุงูุชุทุจูู ูุณุฌู ุฏุฎูู ูู Owner
2. ุงุฐูุจ ุฅูู ุชุจููุจ "ุงููุฑูุน"
3. ุงุถุบุท ุนูู ุฒุฑ "+" ูุฅุถุงูุฉ ูุฑุน ุฌุฏูุฏ
4. ุงุชุตู ุจุดุจูุฉ WiFi
5. ุงุถุบุท ุนูู ุฃููููุฉ WiFi ๐ถ ุจุฌุงูุจ ุญูู BSSID
6. ูุฌุจ ุฃู ููุชูุฆ ุงูุญูู ุชููุงุฆูุงู ุจู BSSID

## ๐ฏ ุงูุญุงูุฉ ุงูููุงุฆูุฉ:

| ุงููููุฉ | ุงูุญุงูุฉ |
|--------|---------|
| ุชุนุฏูู Backend ูุญูุธ BSSID | โ ููุชูู ูููุดูุฑ ุนูู AWS |
| ุฅุถุงูุฉ ููุฒุฉ ุฌูุจ BSSID ูู Flutter | โ ููุชูู ููุฑููุน ุนูู GitHub |
| ุตูุงุญูุงุช Android | โ ููุชููุฉ |
| ุงูุณูุฑูุฑ ูุนูู | โ running ุนูู AWS |
| ุงูุชุนุฏููุงุช ุนูู GitHub | โ ูุฑููุนุฉ (commit: c8805fa) |

## ๐ ูุนูููุงุช ุงูุณูุฑูุฑ:

- **IP:** 16.171.208.249
- **Port:** 5000
- **Status:** Running โ
- **Process:** oldies-api (PM2)
- **Last Update:** 26 ุฃูุชูุจุฑ 2025 - 12:24 PM

## ๐ ุงูุฎุทูุงุช ุงููุงุฏูุฉ:

1. **ุจูุงุก ุงูุชุทุจูู (Flutter):**
   ```bash
   flutter build apk
   # ุฃู
   flutter build appbundle
   ```

2. **ุงุฎุชุจุงุฑ ุงูููุฒุงุช ุงูุฌุฏูุฏุฉ:**
   - ุฅูุดุงุก ูุฑุน ุฌุฏูุฏ
   - ุฌูุจ BSSID ุชููุงุฆูุงู
   - ุงูุชุญูู ูู ุญูุธ BSSID ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช

3. **ูุฑุงูุจุฉ logs:**
   ```bash
   ssh -i "D:\mytest123.pem" ubuntu@16.171.208.249 "pm2 logs oldies-api --lines 50"
   ```

## ๐ ููุฏุนู:
ุนูุฏ ุฅูุดุงุก ูุฑุน ุฌุฏูุฏุ ุชุญูู ูู logs ุงูุณูุฑูุฑ ูุฑุคูุฉ ุฑุณุงูุฉ:
```
[Branch Created] Branch ID: xxx, Name: xxx, BSSID: XX:XX:XX:XX:XX:XX
```

---
**ุขุฎุฑ ุชุญุฏูุซ:** 26 ุฃูุชูุจุฑ 2025
**ุงูุฅุตุฏุงุฑ:** v1.2.0
