# โ ุดุงุดุฉ ุฅุฏุงุฑุฉ ุงููุฑูุน - Branch Management

## ๐ ุชู ุฅุถุงูุฉ ุดุงุดุฉ ุฅุฏุงุฑุฉ ุงููุฑูุน ูุงููุฉ!

**File**: `lib/screens/owner/owner_branches_screen.dart` (854 ุณุทุฑ)

---

## ๐ ุงููููุฒุงุช

### 1. ุนุฑุถ ุฌููุน ุงููุฑูุน
- โ ูุงุฆูุฉ ุจุฌููุน ุงููุฑูุน ูุน ุจุทุงูุฉ ูุงุจูุฉ ููุชูุณุน (ExpansionTile)
- โ ุนุฑุถ ุงูุนููุงู ูุน ุฃููููุฉ ุงููููุน
- โ ุนุฏุฏ ุงูููุธููู ูู ูู ูุฑุน
- โ ุงุณู ุงููุฏูุฑ (ุฅู ููุฌุฏ)
- โ Pull to refresh

### 2. ุฅุถุงูุฉ ูุฑุน ุฌุฏูุฏ
**Dialog ูุน Form ูุงูู**:
```
- ุงุณู ุงููุฑุน: ูุทููุจ
- ุงูุนููุงู: ูุทููุจ (multiline)
- ุฑูู ุงููุงุชู: ุงุฎุชูุงุฑู
```

**ูุซุงู**:
```
ุงุณู ุงููุฑุน: ูุฑุน ุงููุนุงุฏู
ุงูุนููุงู: ุงููุนุงุฏูุ ุดุงุฑุน 9
ุฑูู ุงููุงุชู: 0123456789
```

### 3. ุชุนุฏูู ูุฑุน ููุฌูุฏ
- โ ููุณ ุงูู Dialog ููุฅุถุงูุฉ
- โ ุงูุจูุงูุงุช ูุญููุฉ ูุณุจูุงู
- โ ูููู ุชุนุฏูู ุฌููุน ุงูุญููู

### 4. ุญุฐู ูุฑุน
- โ ุชุญูู: ูุง ูููู ุญุฐู ูุฑุน ุจู ููุธููู
- โ Dialog ุชุฃููุฏ ูุจู ุงูุญุฐู
- โ ุฑุณุงูุฉ ุฎุทุฃ ูุงุถุญุฉ ุฅุฐุง ูุงู ุงููุฑุน ูุญุชูู ุนูู ููุธููู

**ูุซุงู ุฑุณุงูุฉ ุงูุฎุทุฃ**:
```
"ูุง ูููู ุญุฐู ุงููุฑุน ูุฃูู ูุญุชูู ุนูู 5 ููุธู"
```

### 5. ุชุนููู/ุชุบููุฑ ุงููุฏูุฑ
- โ Dialog ูุน dropdown ูุงุฎุชูุงุฑ ุงููุฏูุฑ
- โ ูุนุฑุถ ููุท ุงูููุธููู ุงููุชุงุญูู (managers ุฃู staff)
- โ ูุญุฏุซ ุฏูุฑ ุงูููุธู ุชููุงุฆูุงู ุฅูู manager
- โ ุนุฑุถ ุงุณู ูููุฏ ุงูููุธู

**ูุซุงู**:
```
ุงุฎุชุฑ ุงููุฏูุฑ:
- ุฃุญูุฏ ุงููุฏูุฑ (MGR001)
- ูุญูุฏ ุงูููุธู (EMP001)
- ูุงุทูุฉ ุงูุนุงููุฉ (EMP002)
```

### 6. ุนุฑุถ ููุธูู ุงููุฑุน
**Dialog ูุงูู ูุนุฑุถ**:
- โ ูุงุฆูุฉ ุจุฌููุน ููุธูู ุงููุฑุน
- โ Avatar ูููู ุญุณุจ ุงูุฏูุฑ
- โ ุงุณู ุงูููุธู
- โ ููุฏ ุงูููุธู
- โ Badge ูููู ููุฏูุฑ (ูุงูู/ูุฏูุฑ/ููุธู/ููุงุฑุฏ ุจุดุฑูุฉ/ูุฑุงูุจ)
- โ ุฅุฌูุงูู ุนุฏุฏ ุงูููุธููู

**ูุซุงู ุงูุนุฑุถ**:
```
ููุธูู ูุฑุน ุงููุฑุน ุงูุฑุฆูุณู
ุฅุฌูุงูู: 6 ููุธู

๐ค ุฃุญูุฏ ุงููุฏูุฑ (MGR001) [ูุฏูุฑ ๐ต]
๐ค ูุญูุฏ ุงูููุธู (EMP001) [ููุธู ๐]
๐ค ูุงุทูุฉ ุงูุนุงููุฉ (EMP002) [ููุธู ๐]
...
```

---

## ๐จ ุงูุชุตููู

### ุงูุจุทุงูุฉ ุงูุฑุฆูุณูุฉ (Branch Card)
```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ ๐ช ุงููุฑุน ุงูุฑุฆูุณู                  โ
โ ๐ ุงููุงูุฑุฉุ ุดุงุฑุน ุงูุชุญุฑูุฑ            โ
โ ๐ฅ 6 ููุธู | ๐ค ุงููุฏูุฑ: ุฃุญูุฏ ุงููุฏูุฑ โ
โ โผ (ููุชูุณูุน)                        โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ [ุงูููุธููู (6)] [ุชุบููุฑ ุงููุฏูุฑ]      โ
โ [ุชุนุฏูู] [ุญุฐู]                      โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

### ุงูุฃููุงู
- **Blue** ๐ต: ุฃููููุฉ ุงููุฑุน
- **Orange** ๐: ุฒุฑ ุงูุชุนุฏูู
- **Green** ๐ข: ุฒุฑ ุชุนููู ุงููุฏูุฑ
- **Red** ๐ด: ุฒุฑ ุงูุญุฐู

---

## ๐ง ุงูู Services ุงููุณุชุฎุฏูุฉ

```dart
// 1. Get all branches
SupabaseBranchService.getAllBranches()

// 2. Get employees by branch
SupabaseBranchService.getEmployeesByBranch(branchName)

// 3. Create branch
SupabaseBranchService.createBranch(
  name: 'ูุฑุน ุงููุนุงุฏู',
  address: 'ุงููุนุงุฏูุ ุดุงุฑุน 9',
)

// 4. Update branch
SupabaseBranchService.updateBranch(
  branchId: 'uuid',
  name: 'ุงุณู ุฌุฏูุฏ',
  address: 'ุนููุงู ุฌุฏูุฏ',
)

// 5. Delete branch
SupabaseBranchService.deleteBranch(branchId)

// 6. Assign manager
SupabaseBranchService.assignManager(
  branchId: 'uuid',
  managerId: 'MGR001',
)

// 7. Get all employees (ููุงุฎุชูุงุฑ)
SupabaseAuthService.getAllEmployees()
```

---

## ๐ฑ ุงูุชูุงูู ูุน Owner Main Screen

ุชู ุฅุถุงูุฉ ุงูุดุงุดุฉ ุฅูู:
```dart
owner_main_screen_new.dart

ุงูุฃูุณุงู ุงูุขู (7):
1. ๐ ููุญุฉ ุงูุชุญูู
2. ๐ฅ ุงูููุธููู
3. ๐ช ุงููุฑูุน โ ุฌุฏูุฏ!
4. ๐ ุทูุจุงุช ุงูุฅุฌุงุฒุงุช
5. โฐ ุทูุจุงุช ุงูุญุถูุฑ
6. ๐ฐ ุทูุจุงุช ุงูุณูู
7. ๐ ุฌุฏูู ุงูุญุถูุฑ
```

---

## ๐งช ุทุฑููุฉ ุงูุงุฎุชุจุงุฑ

### 1. ูุชุญ ุดุงุดุฉ ุงููุฑูุน
```
1. Login as OWNER001 / 1234
2. ุงูุชุญ Drawer
3. ุงุฎุชุฑ "ุงููุฑูุน"
4. โ ูุฌุจ ุฃู ุชุธูุฑ ูุงุฆูุฉ ุงููุฑูุน
```

### 2. ุฅุถุงูุฉ ูุฑุน ุฌุฏูุฏ
```
1. ุงุถุบุท ุฒุฑ + "ุฅุถุงูุฉ ูุฑุน"
2. ุงููุฃ:
   - ุงูุงุณู: ูุฑุน ุงููุนุงุฏู
   - ุงูุนููุงู: ุงููุนุงุฏูุ ุดุงุฑุน 9
   - ุงููุงุชู: 0123456789
3. ุงุถุบุท "ุฅุถุงูุฉ"
4. โ ุฑุณุงูุฉ ูุฌุงุญ: "ุชู ุฅุถุงูุฉ ุงููุฑุน ุจูุฌุงุญ"
5. โ ุงููุฑุน ูุธูุฑ ูู ุงููุงุฆูุฉ
```

### 3. ุชุนููู ูุฏูุฑ
```
1. ุงุฎุชุฑ ูุฑุน "ูุฑุน ุงููุนุงุฏู"
2. ุงุถุบุท "ุชุนููู ูุฏูุฑ"
3. ุงุฎุชุฑ ูู ุงููุงุฆูุฉ: MGR001
4. ุงุถุบุท "ุชุนููู"
5. โ ุฑุณุงูุฉ ูุฌุงุญ
6. โ ุงุณู ุงููุฏูุฑ ูุธูุฑ ูู ุงูุจุทุงูุฉ
```

### 4. ุนุฑุถ ุงูููุธููู
```
1. ุงุถุบุท "ุงูููุธููู (X)"
2. โ ููุชุญ Dialog
3. โ ูุนุฑุถ ูุงุฆูุฉ ุงูููุธููู
4. โ ูู ููุธู ูู badge ูููู ุญุณุจ ุงูุฏูุฑ
```

### 5. ุชุนุฏูู ูุฑุน
```
1. ุงุถุบุท "ุชุนุฏูู"
2. ุบูุฑ ุงูุงุณู: "ูุฑุน ุงููุนุงุฏู - ุงูุฌุฏูุฏ"
3. ุงุถุบุท "ุชุญุฏูุซ"
4. โ ุงูุชุญุฏูุซ ููุฌุญ
5. โ ุงูุงุณู ุงูุฌุฏูุฏ ูุธูุฑ
```

### 6. ูุญุงููุฉ ุญุฐู ูุฑุน ุจู ููุธููู
```
1. ุงุฎุชุฑ "ุงููุฑุน ุงูุฑุฆูุณู" (ุจู 6 ููุธููู)
2. ุงุถุบุท "ุญุฐู"
3. โ ุฑุณุงูุฉ ุฎุทุฃ: "ูุง ูููู ุญุฐู ุงููุฑุน ูุฃูู ูุญุชูู ุนูู 6 ููุธู"
```

### 7. ุญุฐู ูุฑุน ูุงุฑุบ
```
1. ุฃุถู ูุฑุน ุฌุฏูุฏ ุจุฏูู ููุธููู
2. ุงุถุบุท "ุญุฐู"
3. โ Dialog ุชุฃููุฏ
4. ุงุถุบุท "ุญุฐู"
5. โ ุงููุฑุน ููุญุฐู ุจูุฌุงุญ
```

---

## โ ุงูุฅุญุตุงุฆูุงุช

| ุงูุนูุตุฑ | ุงููููุฉ |
|--------|--------|
| ุนุฏุฏ ุงูุฃุณุทุฑ | 854 |
| ุนุฏุฏ ุงูู Dialogs | 3 (Add/Edit, Assign Manager, View Employees) |
| ุนุฏุฏ ุงูู Widgets | 4 (_BranchCard, _BranchFormDialog, _AssignManagerDialog, _BranchEmployeesDialog) |
| ุงูู Services | 2 (SupabaseBranchService, SupabaseAuthService) |
| ุงููููุฒุงุช | 6 (View, Add, Edit, Delete, Assign Manager, View Employees) |

---

## ๐ ุงูุฎูุงุตุฉ

**ุงูุญุงูุฉ**: โ ุฌุงูุฒ ููุงุณุชุฎุฏุงู!

ุฌููุน ุนูููุงุช ุฅุฏุงุฑุฉ ุงููุฑูุน ุชุนูู ุจุงููุงูู:
- โ ุนุฑุถ
- โ ุฅุถุงูุฉ
- โ ุชุนุฏูู
- โ ุญุฐู (ูุน ุงูุญูุงูุฉ)
- โ ุชุนููู ูุฏูุฑ
- โ ุนุฑุถ ููุธูู ูู ูุฑุน

---

**ุชุงุฑูุฎ ุงูุฅูุดุงุก**: ููุงูุฑ 2025  
**ุงูุดุงุดุงุช ุงูุขู**: 8 ุดุงุดุงุช Owner ูุงููุฉ  
**ุฅุฌูุงูู ุงูุฃุณุทุฑ**: 3,779 ุณุทุฑ ูู ุงูููุฏ ุงููุธูู  

๐ **ุชูุช ุงูุฅุถุงูุฉ ุจูุฌุงุญ!** ๐
