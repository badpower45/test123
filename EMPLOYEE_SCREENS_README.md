# ุฏููู ุตูุญุงุช ุงูููุธู - Oldies Workers

## ูุธุฑุฉ ุนุงูุฉ
ุชู ุฅูุดุงุก ุตูุญุงุช ุงูููุธู ุงูุฌุฏูุฏุฉ ุจุชุตููู ุนุตุฑู ููุงุฌูุฉ ุนุฑุจูุฉ RTL ูุงููุฉ. ูู ุตูุญุฉ ูุฑุจูุทุฉ ุจู API endpoints ุฌุงูุฒุฉ ููุชูุงูู ูุน ุงูู Backend.

## ุงูุตูุญุงุช ุงูุฃุณุงุณูุฉ

### 1. ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ (Employee Home Page)
**ุงูููู**: `lib/screens/employee/employee_home_page.dart`

#### ุงููููุฒุงุช:
- โ ุจุทุงูุฉ ุงูุญุงูุฉ (ููุฏ ุงูุนูู / ุฎุงุฑุฌ ุงูุนูู)
- โ ุนุฏุงุฏ ูุจุงุดุฑ ูุณุงุนุงุช ุงูุนูู
- โ ุฒุฑ ุชุณุฌูู ุงูุญุถูุฑ/ุงูุงูุตุฑุงู
- โ ุฒุฑ ุทูุจ ุญุถูุฑ (ููููุธููู ุงูุฐูู ูุณูุง ุงูุชุณุฌูู)
- โ ุฅุญุตุงุฆูุงุช ุงููุจุถุงุช ูุงูุงุชุตุงู

#### API Endpoints:
- `POST /api/attendance/check-in` - ุชุณุฌูู ุงูุญุถูุฑ
- `POST /api/attendance/check-out` - ุชุณุฌูู ุงูุงูุตุฑุงู
- `POST /api/attendance/request-checkin` - ุทูุจ ุชุณุฌูู ุญุถูุฑ ุจุนุฏ ุงููุณูุงู
- `POST /api/attendance/request-checkout` - ุทูุจ ุชุณุฌูู ุงูุตุฑุงู ุจุนุฏ ุงููุณูุงู

---

### 2. ุตูุญุฉ ุงูุทูุจุงุช (Requests Page)
**ุงูููู**: `lib/screens/employee/requests_page.dart`

#### ุงูุชุจููุจุงุช:
1. **ุทูุจุงุช ุงูุฅุฌุงุฒุฉ**
   - ุฅุฌุงุฒุฉ ุนุงุฏูุฉ (ูุจููุง ุจ48 ุณุงุนุฉ)
   - ุฅุฌุงุฒุฉ ุทุงุฑุฆุฉ (ูุจููุง ุจ24 ุณุงุนุฉ + ุณุจุจ ุฅุฌุจุงุฑู)
   - ุนุฑุถ ุงูุทูุจุงุช ุงูุณุงุจูุฉ ูุน ุงูุญุงูุฉ

2. **ุทูุจุงุช ุงูุณูู**
   - ุนุฑุถ ุงููุฑุชุจ ุงูุญุงูู
   - ุญุณุงุจ ุงูุญุฏ ุงูุฃูุตู (30%)
   - ููุน ุทูุจ ุฃูุซุฑ ูู ุงููุณููุญ
   - ูุธุงู ุงูุณูู ูู 5 ุฃูุงู

#### API Endpoints:
- `POST /api/leave/request` - ุทูุจ ุฅุฌุงุฒุฉ ุฌุฏูุฏ (ุนุงุฏู ุฃู ุทุงุฑุฆ)
- `GET /api/leave/requests?employee_id=X` - ุฌูุจ ุทูุจุงุช ุงูุฅุฌุงุฒุฉ ุญุณุจ ุงูููุธู
- `POST /api/advances/request` - ุทูุจ ุณููุฉ ุฌุฏูุฏุฉ (ุจูุณุจุฉ 30%)
- `GET /api/advances?employee_id=X` - ุฌูุจ ุทูุจุงุช ุงูุณูู
- `GET /api/absence/notifications?status=pending` - ุนุฑุถ ุฅุฎุทุงุฑุงุช ุงูุบูุงุจ ูููุฏูุฑ

#### ุงูููุงุนุฏ ุงููุทุจูุฉ:
- ุงูุฅุฌุงุฒุฉ ุงูุนุงุฏูุฉ: ูุจููุง ุจ48 ุณุงุนุฉ ุนูู ุงูุฃูู
- ุงูุฅุฌุงุฒุฉ ุงูุทุงุฑุฆุฉ: ูุจููุง ุจ24 ุณุงุนุฉ + ูุชุงุจุฉ ุงูุณุจุจ
- ุงูุณููุฉ: 30% ูุญุฏ ุฃูุตู ูู ุงููุฑุชุจ ุงูุญุงูู

---

### 3. ุตูุญุฉ ุงูุชูุงุฑูุฑ (Reports Page)
**ุงูููู**: `lib/screens/employee/reports_page.dart`

#### ุงููููุฒุงุช:
- โ ูุชุญ ุงูุชูุฑูุฑ ููุท ููู 1 ู 16 ูู ูู ุดูุฑ
- โ ุนุฏุงุฏ ุงูุฃูุงู ุงููุชุจููุฉ
- โ ุชูุฑูุฑ ููุชุตู ุงูุดูุฑ (1-15)
- โ ุชูุฑูุฑ ููุงูุฉ ุงูุดูุฑ (16-ุขุฎุฑ ุงูุดูุฑ)

#### ูุญุชูู ุงูุชูุฑูุฑ:
- ุฌุฏูู ููุตู ุจุงูุชูุงุฑูุฎ
- ููุช ุงูุญุถูุฑ ูุงูุงูุตุฑุงู
- ุนุฏุฏ ุณุงุนุงุช ุงูุนูู
- ุงูุณูู ุงููุฃุฎูุฐุฉ
- ุงูุฎุตููุงุช
- ุงูุฅุฌุงุฒุงุช

#### API Endpoints:
- `GET /api/reports/attendance/:employeeId?start_date=YYYY-MM-DD&end_date=YYYY-MM-DD`
   - ุงูุชูุฑูุฑ ููุชุญ ููุท ููู 1 ุฃู 16 ุชุจุนูุง ููุณูุงุณุฉ (ูุชู ุฑูุถ ุงูุทูุจ ูู ุงูุฃูุงู ุงูุฃุฎุฑู)

---

### 4. ุตูุญุฉ ุงูููู ุงูุดุฎุตู (Profile Page)
**ุงูููู**: `lib/screens/employee/profile_page.dart`

#### ุงููุนูููุงุช ุงููุนุฑูุถุฉ:
- ุงูุงุณู ุงููุงูู
- ุฑูู ุงูููุธู
- ุงููุธููุฉ
- ุงููุฑุน
- ุงูุฑุงุชุจ ุงูุดูุฑู

#### ุงูุฅุนุฏุงุฏุงุช:
- ุชุบููุฑ ุงูุฑูู ุงูุณุฑู
- ุฅุนุฏุงุฏุงุช ุงูุฅุดุนุงุฑุงุช
- ุงููุณุงุนุฏุฉ ูุงูุฏุนู
- ุชุณุฌูู ุงูุฎุฑูุฌ

---

## ุงูุชููู ุจูู ุงูุตูุญุงุช

### Main Navigation (BottomNavigationBar)
**ุงูููู**: `lib/screens/employee/employee_main_screen.dart`

ุงูุชููู ูุชู ุนุจุฑ Task Bar ุซุงุจุช ูู ุงูุฃุณูู:
1. ๐ **ุงูุฑุฆูุณูุฉ** - ุงูุญุถูุฑ ูุงูุงูุตุฑุงู
2. ๐ **ุงูุทูุจุงุช** - ุงูุฅุฌุงุฒุงุช ูุงูุณูู
3. ๐ **ุงูุชูุงุฑูุฑ** - ุชูุฑูุฑ ุงูุญุถูุฑ ุงูุดูุฑู
4. ๐ค **ูููู** - ุงููุนูููุงุช ุงูุดุฎุตูุฉ

---

## Models ุงูุจูุงูุงุช

### 1. LeaveRequest
**ุงูููู**: `lib/models/leave_request.dart`
```dart
enum LeaveType { normal, emergency }
enum RequestStatus { pending, approved, rejected }
```

### 2. AdvanceRequest
**ุงูููู**: `lib/models/advance_request.dart`
- ุงููุจูุบ ุงููุทููุจ
- ุงููุฑุชุจ ุงูุญุงูู
- ุงูุญุฏ ุงูุฃูุตู (30%)

### 3. AttendanceRequest
**ุงูููู**: `lib/models/attendance_request.dart`
- ููุช ุงููุณูุงู
- ุงูุณุจุจ

### 4. AttendanceReport
**ุงูููู**: `lib/models/attendance_report.dart`
- ุจูุงูุงุช ุงูููุธู
- ุงููุชุฑุฉ (ููุชุตู/ููุงูุฉ ุงูุดูุฑ)
- ุณุฌูุงุช ุงูุญุถูุฑ ุงูููููุฉ

---

## API Services

### RequestsApiService
**ุงูููู**: `lib/services/requests_api_service.dart`

Methods:
- `createLeaveRequest()` - ุฅูุดุงุก ุทูุจ ุฅุฌุงุฒุฉ
- `getLeaveRequests()` - ุฌูุจ ุทูุจุงุช ุงูุฅุฌุงุฒุฉ
- `createAdvanceRequest()` - ุฅูุดุงุก ุทูุจ ุณููุฉ
- `getAdvanceRequests()` - ุฌูุจ ุทูุจุงุช ุงูุณูู
- `createAttendanceRequest()` - ุฅูุดุงุก ุทูุจ ุญุถูุฑ
- `getCurrentEarnings()` - ุฌูุจ ุงููุฑุชุจ ุงูุญุงูู

### AttendanceApiService
**ุงูููู**: `lib/services/attendance_api_service.dart`

Methods:
- `checkIn()` - ุชุณุฌูู ุงูุญุถูุฑ
- `checkOut()` - ุชุณุฌูู ุงูุงูุตุฑุงู
- `getReport()` - ุฌูุจ ุงูุชูุฑูุฑ ุงูุดูุฑู
- `getRecentShifts()` - ุฌูุจ ุขุฎุฑ ุงููุฑุฏูุงุช

---

## ุงูุชูุงูู ูุน Backend

### API Base URL
ูู ููู `lib/config/app_config.dart`:
```dart
static const String apiBaseUrl = String.fromEnvironment(
  'API_BASE_URL',
  defaultValue: 'http://localhost:3000',
);
```

### ุชุบููุฑ ุงูู URL:
```bash
flutter run --dart-define=API_BASE_URL=https://api.oldies.com
```

---

## ููุงุนุฏ ุงูุนูู (Business Rules)

### ูุธุงู ุงูุฅุฌุงุฒุงุช:
1. **ุจุฏู ุงูุฅุฌุงุฒุฉ**: 100 ุฌููู
   - ููููุญ ููููุธู ุงูุฐู ุฃุฎุฐ ุฅุฌุงุฒุฉ ููู ุฃู ููููู
   - ูุง ููููุญ ุฅุฐุง ุบุงุจ ุฃูุซุฑ ูู ููููู (ุญุชู ูู ุจุฅุฐู)
   - ูุง ููุฌุฏ ุฎุตู ุฅุฐุง ูุงู ุจุฅุฐู ุงููุฏูุฑ

2. **ุงูุบูุงุจ ุจุฏูู ุฅุฐู**:
   - ุฅุฑุณุงู ุฅุดุนุงุฑ ููุฑู ูููุฏูุฑ
   - ุฅุฐุง ูุงูู ุงููุฏูุฑ ุนูู ุงูุฎุตู: ูุชู ุฎุตู ููููู ุนูู

### ูุธุงู ุงูุณูู:
- ูู 5 ุฃูุงู ูุญู ููููุธู ุทูุจ ุณููุฉ
- ุงูุญุฏ ุงูุฃูุตู: 30% ูู ุงููุฑุชุจ ุงูุญุงูู
- ูุชู ุงุญุชุณุงุจูุง ุชููุงุฆูุงู ูุนุฑุถูุง ูู ุงูุชูุฑูุฑ

### ูุธุงู ุงูุชูุงุฑูุฑ:
- ูููุชุญ ุงูุชูุฑูุฑ ููู 1 ู 16 ููุท
- ูุนุฑุถ ูู ุงูุชูุงุตูู:
  - ุงูุชุงุฑูุฎ
  - ููุช ุงูุญุถูุฑ/ุงูุงูุตุฑุงู
  - ุนุฏุฏ ุงูุณุงุนุงุช
  - ุงูุณูู
  - ุงูุฎุตููุงุช
  - ุงูุฅุฌุงุฒุงุช

---

## ุงูุฎุทูุงุช ุงูุชุงููุฉ

### ูููุทูุฑูู:
1. โ ุชุทููุฑ Backend APIs ุงููุทููุจุฉ
2. โ ุฑุจุท ุงูุตูุญุงุช ุจุงูู APIs ุงูุญููููุฉ
3. โ ุงุฎุชุจุงุฑ ูู ุงูู flows
4. โ ุฅุถุงูุฉ ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก

### APIs ุงูุฑุฆูุณูุฉ ุงูุญุงููุฉ:
- [x] POST /api/attendance/check-in
- [x] POST /api/attendance/check-out
- [x] POST /api/attendance/request-checkin
- [x] POST /api/attendance/request-checkout
- [x] GET /api/attendance/requests & POST /api/attendance/requests/:id/review
- [x] POST /api/leave/request & GET /api/leave/requests
- [x] POST /api/leave/requests/:id/review
- [x] POST /api/advances/request & GET /api/advances
- [x] POST /api/advances/:id/review
- [x] POST /api/absence/notify & GET /api/absence/notifications
- [x] POST /api/absence/:id/apply-deduction
- [x] GET /api/reports/attendance/:employeeId
- [ ] GET /api/me/earnings (ููุฏ ุงูุชุฎุทูุท)

---

## ุงูุชุดุบูู

### Development:
```bash
flutter run -d web-server --web-hostname=0.0.0.0 --web-port=5000
```

### Build for Production:
```bash
flutter build web --release
dhttpd --host 0.0.0.0 --port 5000 --path build/web
```

---

## ุงูููุงุญุธุงุช ุงููููุฉ

1. **RTL Support**: ุฌููุน ุงูุตูุญุงุช ุชุฏุนู ุงูุนุฑุจูุฉ ุจุดูู ูุงูู
2. **Material Design 3**: ุชุตููู ุนุตุฑู ููุชุฌุงูุจ
3. **Google Fonts**: ุงุณุชุฎุฏุงู IBM Plex Sans Arabic
4. **State Management**: StatefulWidget ูุน setState
5. **Offline Support**: Hive ููุชุฎุฒูู ุงููุญูู
6. **API Integration**: HTTP client ุฌุงูุฒ ููุฑุจุท

---

## ุงููุณุงููุฉ

ูุฅุถุงูุฉ ุตูุญุฉ ุฌุฏูุฏุฉ:
1. ุฅูุดุงุก ููู ุฌุฏูุฏ ูู `lib/screens/employee/`
2. ุฅุถุงูุฉ route ูู `lib/main.dart`
3. ุชุญุฏูุซ `EmployeeMainScreen` ุฅุฐุง ูุฒู ุงูุฃูุฑ

---

ุชู ุงูุชุทููุฑ ุจูุงุณุทุฉ: Replit Agent
ุงูุชุงุฑูุฎ: ุฃูุชูุจุฑ 2025
