# ุฎุทูุงุช ุชุดุบูู ููุฒุฉ ุงูุจูุงูุงุช ุงูุดุฎุตูุฉ ููููุธููู

## โ ุงูุชุญุฏูุซุงุช ุงูููุชููุฉ

### 1. Backend (Server)
- โ ุชุญุฏูุซ Schema (shared/schema.ts) - ุฃุถููุช 4 ุญููู ุฌุฏูุฏุฉ:
  - `address` (TEXT)
  - `birthDate` (DATE)
  - `email` (TEXT)
  - `phone` (TEXT)

- โ ุชุญุฏูุซ Server Endpoints (server/index.ts):
  - `POST /api/employees` - ูุฏุนู ุงูุญููู ุงูุฌุฏูุฏุฉ
  - `PUT /api/employees/:id` - ูุฏุนู ุชุญุฏูุซ ุงูุญููู ุงูุฌุฏูุฏุฉ
  - `GET /api/employees` ู `GET /api/employees/:id` - ูุฑุฌุนูุง ุงูุญููู ุชููุงุฆูุงู

- โ SQL Migration Script ุฌุงูุฒ:
  - ููู: `add_employee_personal_info.sql`
  - ููู: `run_employee_migration.mjs` (ุจุฏูู JavaScript)

### 2. Frontend (Flutter)
- โ ุชุญุฏูุซ Employee Model (lib/models/employee.dart):
  - ุฃุถููุช ุงูุญููู ุงูุฃุฑุจุนุฉ
  - ุชุญุฏูุซ Hive Adapter ููุญูุธ ุงููุญูู

- โ ุชุญุฏูุซ ุตูุญุฉ ุงูููู ุงูุดุฎุตู ููููุธู (lib/screens/employee/profile_page.dart):
  - ุนุฑุถ ุงูุจูุงูุงุช ุงูุดุฎุตูุฉ (ุงูุนููุงูุ ุชุงุฑูุฎ ุงููููุงุฏุ ุงูุจุฑูุฏุ ุงููุงุชู)
  - ุฑุณุงูุฉ ุฅุฐุง ูู ุชูู ุงูุจูุงูุงุช ููุฌูุฏุฉ

- โ ุตูุญุงุช ุฅุฏุงุฑุฉ ุงูููุธููู ูููุฏูุฑ:
  - `lib/screens/manager/manager_employees_page.dart` - ูุงุฆูุฉ ุงูููุธููู + ุจุญุซ
  - `lib/screens/manager/manager_employee_detail_page.dart` - ุชูุงุตูู ุงูููุธู
  - `lib/screens/manager/manager_add_employee_page.dart` - ุฅุถุงูุฉ ููุธู ุฌุฏูุฏ
  - ุงูุตูุญุงุช ูููุฏุฉ ุจูุฑุน ุงููุฏูุฑ ููุท

- โ ุฅุถุงูุฉ ุฒุฑ ูู ุตูุญุฉ ุงููุฏูุฑ ุงูุฑุฆูุณูุฉ (lib/screens/manager/manager_home_page.dart):
  - ุฒุฑ "ุฅุฏุงุฑุฉ ุงูููุธููู" ูููุตูู ููุตูุญุงุช ุงูุฌุฏูุฏุฉ

---

## โก ุงูุฎุทูุงุช ุงููุทููุจุฉ ููุชูุนูู

### ุงูุฎุทูุฉ 1: ุชุดุบูู ุงูู Migration ุนูู Database

#### ุงูุทุฑููุฉ 1: ุจุงุณุชุฎุฏุงู JavaScript Script (ุงูุฃุณูู)

```powershell
# 1. ุงุฑูุน ููู ุงูู migration ููุณูุฑูุฑ
scp run_employee_migration.mjs ubuntu@16.171.208.249:~/

# 2. ุงุชุตู ุจุงูุณูุฑูุฑ
ssh ubuntu@16.171.208.249

# 3. ุดุบู ุงูู migration
node run_employee_migration.mjs

# 4. ุฃุนุฏ ุชุดุบูู ุงูุณูุฑูุฑ
pm2 restart oldies-api

# 5. ุชุฃูุฏ ูู ุงูุณูุฑูุฑ ุดุบุงู
pm2 status
pm2 logs oldies-api --lines 50
```

#### ุงูุทุฑููุฉ 2: ุจุงุณุชุฎุฏุงู SQL ูุจุงุดุฑุฉ

```bash
# ุนูู ุงูุณูุฑูุฑ
psql $DATABASE_URL << EOF
ALTER TABLE employees ADD COLUMN IF NOT EXISTS address TEXT;
ALTER TABLE employees ADD COLUMN IF NOT EXISTS birth_date DATE;
ALTER TABLE employees ADD COLUMN IF NOT EXISTS email TEXT;
ALTER TABLE employees ADD COLUMN IF NOT EXISTS phone TEXT;
EOF
```

### ุงูุฎุทูุฉ 2: ุงูุชุญูู ูู ุงูุชุญุฏูุซุงุช

```bash
# ุนูู ุงูุณูุฑูุฑ - ุชุฃูุฏ ูู ูุฌูุฏ ุงูุฃุนูุฏุฉ ุงูุฌุฏูุฏุฉ
psql $DATABASE_URL -c "SELECT column_name, data_type FROM information_schema.columns WHERE table_name = 'employees' AND column_name IN ('address', 'birth_date', 'email', 'phone');"
```

### ุงูุฎุทูุฉ 3: ุจูุงุก APK ุฌุฏูุฏ

```powershell
# ุนูู ุงูุฌูุงุฒ ุงููุญูู
cd "D:\Coding\project important\test123 (7)\test123"

# ุชุฃูุฏ ูู ุงูุชุญุฏูุซุงุช
flutter pub get

# ุจูุงุก APK
flutter build apk --release

# ุงูููู ุงููุงุชุฌ:
# build\app\outputs\flutter-apk\app-release.apk
```

---

## ๐ฏ ุงูููุฒุงุช ุงูุฌุฏูุฏุฉ

### ููููุธู:
1. **ุตูุญุฉ ุงูููู ุงูุดุฎุตู ูุญุณููุฉ**:
   - ุนุฑุถ ุงูุจูุงูุงุช ุงูุดุฎุตูุฉ ุงููุงููุฉ
   - ุชูุณูู ุฌููู ููุชูุงุฑูุฎ
   - ุฑุณุงูุฉ ุฅุฐุง ูู ุชูู ุงูุจูุงูุงุช ูุชููุฑุฉ

### ูููุฏูุฑ:
1. **ุตูุญุฉ ูุงุฆูุฉ ุงูููุธููู**:
   - ุนุฑุถ ุฌููุน ููุธูู ุงููุฑุน
   - ุจุญุซ ุจุงูุงุณู ุฃู ุงูุฑูู
   - ุนุฏุงุฏ ุงูููุธููู

2. **ุตูุญุฉ ุชูุงุตูู ุงูููุธู**:
   - ุนุฑุถ ูู ูุนูููุงุช ุงูููุธู
   - ูุนูููุงุช ุงููุธููุฉ ูุงูุจูุงูุงุช ุงูุดุฎุตูุฉ
   - ุชุตููู ุงุญุชุฑุงูู

3. **ุตูุญุฉ ุฅุถุงูุฉ ููุธู**:
   - ูููุฐุฌ ุดุงูู ููุจูุงูุงุช ุงูุฃุณุงุณูุฉ
   - ุญููู ุงุฎุชูุงุฑูุฉ ููุจูุงูุงุช ุงูุดุฎุตูุฉ
   - ูููุฏ ุจูุฑุน ุงููุฏูุฑ ููุท
   - ุงูุชุญูู ูู ุตุญุฉ ุงูุจูุงูุงุช

---

## ๐ ุงูุตูุงุญูุงุช

### ุงููุฏูุฑ (Manager):
- โ ูุฑู ููุธูู ูุฑุนู ููุท
- โ ูุถูู ููุธููู ููุฑุนู ููุท
- โ ูุฑู ุชูุงุตูู ุงูููุธููู ุงููุงููุฉ

### ุงููุงูู (Owner):
- โ ูุฑู ุฌููุน ุงูููุธููู
- โ ูุถูู ููุธููู ูุฃู ูุฑุน
- โ ุตูุงุญูุงุช ูุงููุฉ

---

## ๐ ููุงุญุธุงุช ูููุฉ

1. **ุงูุชูุงูููุฉ**: ุงูุญููู ุงูุฌุฏูุฏุฉ ุงุฎุชูุงุฑูุฉ (nullable)ุ ูู ุชุคุซุฑ ุนูู ุงูุจูุงูุงุช ุงูููุฌูุฏุฉ
2. **Hive Adapter**: ุชู ุชุญุฏูุซ ุงูู field count ูู 10 ุฅูู 14
3. **API Endpoints**: ุฌููุน ุงูู endpoints ุชุฏุนู ุงูุญููู ุงูุฌุฏูุฏุฉ
4. **ุงูุฃูุงู**: ุชู ุงุณุชุฎุฏุงู `IF NOT EXISTS` ูู ุงูู migration ูุชุฌูุจ ุงูุฃุฎุทุงุก

---

## ๐งช ููุงุฎุชุจุงุฑ

### ุงุฎุชุจุงุฑ ุฅุถุงูุฉ ููุธู:
1. ุณุฌู ุฏุฎูู ููุฏูุฑ
2. ุงุถุบุท ุนูู "ุฅุฏุงุฑุฉ ุงูููุธููู"
3. ุงุถุบุท FAB "ุฅุถุงูุฉ ููุธู"
4. ุงููุฃ ุงูุจูุงูุงุช ูุงุถุบุท "ุฅุถุงูุฉ ุงูููุธู"
5. ุชุฃูุฏ ูู ุธููุฑ ุงูููุธู ูู ุงููุงุฆูุฉ

### ุงุฎุชุจุงุฑ ุนุฑุถ ุงูุชูุงุตูู:
1. ูู ูุงุฆูุฉ ุงูููุธููู
2. ุงุถุบุท ุนูู ุฃู ููุธู
3. ุชุฃูุฏ ูู ุธููุฑ ุฌููุน ุงูุจูุงูุงุช

### ุงุฎุชุจุงุฑ ุงูุจุญุซ:
1. ูู ุตูุญุฉ ูุงุฆูุฉ ุงูููุธููู
2. ุงุณุชุฎุฏู ุดุฑูุท ุงูุจุญุซ
3. ุงุจุญุซ ุจุงูุงุณู ุฃู ุงูุฑูู

---

## ๐ ุญู ุงููุดุงูู

### ุฅุฐุง ูุดู ุงูู Migration:
```bash
# ุชุญูู ูู ุงูุงุชุตุงู ุจูุงุนุฏุฉ ุงูุจูุงูุงุช
echo $DATABASE_URL

# ุฌุฑุจ ุชุดุบูู SQL ูุฏููุงู
psql $DATABASE_URL -c "SELECT 1;"
```

### ุฅุฐุง ูู ุชุธูุฑ ุงูุญููู ุงูุฌุฏูุฏุฉ:
```bash
# ุฃุนุฏ ุชุดุบูู ุงูุณูุฑูุฑ
pm2 restart oldies-api

# ุชุญูู ูู ุงูููุฌุฒ
pm2 logs oldies-api
```

### ุฅุฐุง ูุงูุช ููุงู ุฃุฎุทุงุก ูู Flutter:
```powershell
# ูุธู ูุฃุนุฏ ุงูุจูุงุก
flutter clean
flutter pub get
flutter build apk --release
```

---

## โจ ุฌุงูุฒ ููุชุดุบูู!

ุจุนุฏ ุชูููุฐ ุงูุฎุทูุงุช ุฃุนูุงูุ ุงููุธุงู ุณูููู ุฌุงูุฒุงู ุจุงููุงูู ูุน:
- โ ุจูุงูุงุช ุดุฎุตูุฉ ููููุธููู
- โ ุตูุญุฉ ุฅุฏุงุฑุฉ ููุธููู ูููุฏูุฑ
- โ ุตูุญุฉ ุฅุถุงูุฉ ููุธู ูููุฏูุฑ (ูููุฏุฉ ุจุงููุฑุน)
- โ ุตูุญุฉ ุนุฑุถ ุชูุงุตูู ุงูููุธู
- โ ุจุญุซ ูุชุตููุฉ ุงูููุธููู

**ุชู ุจูุฌุงุญ! ๐**
